!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var i in n)("object"==typeof exports?exports:e)[i]=n[i]}}(global,()=>(()=>{"use strict";var e={n:t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},d:(t,n)=>{for(var i in n)e.o(n,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:n[i]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{getDefaultPrinter:()=>D,getPrinters:()=>g,print:()=>w});const n=require("path");var i=e.n(n);const r=require("fs");var o=e.n(r);const a=require("child_process"),s=require("util"),c=e.n(s)().promisify(a.execFile),u="electron"in process.versions&&process.mainModule&&process.mainModule.filename.includes("app.asar"),p=function(e){return u?e.replace("app.asar","app.asar.unpacked"):e},l=require("os");var d=e.n(l);function f(){if("win32"!==d().platform())throw"Operating System not supported"}var h=function(e,t,n,i){return new(n||(n=Promise))(function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}c((i=i.apply(e,t||[])).next())})};const m=["odd","even"],v=["portrait","landscape"],y=["noscale","shrink","fit"],P=["duplex","duplexshort","duplexlong","simplex"];function w(e){return h(this,arguments,void 0,function*(e,t={}){if(f(),!e)throw"No PDF specified";if(!o().existsSync(e))throw"No such file";let n=t.sumatraPdfPath||i().join(__dirname,"SumatraPDF-3.4.6-32.exe");t.sumatraPdfPath||(n=p(n));const r=[],{printer:a,silent:s,printDialog:u}=t;u?r.push("-print-dialog"):(a?r.push("-print-to",a):r.push("-print-to-default"),!1!==s&&r.push("-silent"));const l=function(e){const{pages:t,subset:n,orientation:i,scale:r,monochrome:o,side:a,bin:s,paperSize:c,copies:u}=e,p=[];if(t&&p.push(t),n){if(!m.includes(n))throw`Invalid subset provided. Valid names: ${m.join(", ")}`;p.push(n)}if(i){if(!v.includes(i))throw`Invalid orientation provided. Valid names: ${v.join(", ")}`;p.push(i)}if(r){if(!y.includes(r))throw`Invalid scale provided. Valid names: ${y.join(", ")}`;p.push(r)}if(o?p.push("monochrome"):!1===o&&p.push("color"),a){if(!P.includes(a))throw`Invalid side provided. Valid names: ${P.join(", ")}`;p.push(a)}return s&&p.push(`bin=${s}`),c&&p.push(`paper=${c}`),u&&p.push(`${u}x`),p}(t);l.length&&r.push("-print-settings",l.join(",")),r.push(e);try{yield c(n,r)}catch(e){throw e}})}const x={DeviceID:"deviceId",Name:"name",PrinterPaperNames:"paperSizes"};function b(e){const t={deviceId:"",name:"",paperSizes:[]};return e.split(/\r?\n/).forEach(e=>{let[n,i]=e.split(":").map(e=>e.trim());i.match(/^{(.*)(\.{3})}$/)&&(i=i.replace("...}","}"));const r=i.match(/^{(.*)}$/);r&&r[1]&&(i=r[1].split(", "));const o=x[n];void 0!==o&&(t[o]=i)}),{isValid:!(!t.deviceId||!t.name),printerData:t}}const g=function(){return e=this,t=void 0,i=function*(){try{f();const{stdout:e}=yield c("Powershell.exe",["-Command","Get-CimInstance Win32_Printer -Property DeviceID,Name,PrinterPaperNames"]);return function(e){const t=[];return e.split(/(\r?\n){2,}/).map(e=>e.trim()).filter(e=>!!e).forEach(e=>{const{isValid:n,printerData:i}=b(e);n&&t.push(i)}),t}(e)}catch(e){throw e}},new((n=void 0)||(n=Promise))(function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}c((i=i.apply(e,t||[])).next())});var e,t,n,i};const D=function(){return e=this,t=void 0,i=function*(){try{f();const{stdout:e}=yield c("Powershell.exe",["-Command","Get-CimInstance Win32_Printer -Property DeviceID,Name,PrinterPaperNames -Filter Default=true"]),t=e.trim();if(!e)return null;const{isValid:n,printerData:i}=b(t);return n?i:null}catch(e){throw e}},new((n=void 0)||(n=Promise))(function(r,o){function a(e){try{c(i.next(e))}catch(e){o(e)}}function s(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}c((i=i.apply(e,t||[])).next())});var e,t,n,i};return t})());
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TXlELE1BQU0sWUFFeEJDLEdBQVdBLEVBQVEsS0FFckIxRCxFQUFRMEQsRUFBUSxHQUFHUixNQUFNLE9BRzNCLE1BQU0vRCxFQUFNc0QsRUFBV1ksUUFFWE0sSUFBUnhFLElBR0oyRCxFQUFZM0QsR0FBT2EsS0FLZCxDQUNMNEQsV0FIaUJkLEVBQVlDLFdBQVlELEVBQVlFLE1BSXJERixjQUVKLENDR0EsUUEvQkEsVyxxQ0FtQkUsSUFDRSxJQUNBLE1BQU0sT0FBRWUsU0FBaUIsRUFBYyxpQkFBa0IsQ0FDdkQsV0FDQSw0RUFFRixPQXhCRixTQUF1QkEsR0FDckIsTUFBTUMsRUFBc0IsR0FjNUIsT0FaQUQsRUFDR1gsTUFBTSxlQUNOSSxJQUFLL0IsR0FBWUEsRUFBUWlDLFFBQ3pCTyxPQUFReEMsS0FBY0EsR0FDdEI0QixRQUFTNUIsSUFDUixNQUFNLFFBQUVxQyxFQUFPLFlBQUVkLEdBQWdCRCxFQUFldEIsR0FFM0NxQyxHQUVMRSxFQUFTcEMsS0FBS29CLEtBR1hnQixDQUNULENBUVNFLENBQWNILEVBQ3ZCLENBQUUsTUFBT3JCLEdBQ1AsTUFBTUEsQ0FDUixDQUNGLEUsNFJDRkEsUUF6QkEsVyxxQ0FDRSxJQUNFLElBRUEsTUFBTSxPQUFFcUIsU0FBaUIsRUFBYyxpQkFBa0IsQ0FDdkQsV0FDQSxpR0FHSXRDLEVBQVVzQyxFQUFPTCxPQUd2QixJQUFLSyxFQUFRLE9BQU8sS0FFcEIsTUFBTSxRQUFFRCxFQUFPLFlBQUVkLEdBQWdCRCxFQUFldEIsR0FHaEQsT0FBS3FDLEVBRUVkLEVBRmMsSUFHdkIsQ0FBRSxNQUFPTixHQUNQLE1BQU1BLENBQ1IsQ0FDRixFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcGRmLXRvLXByaW50ZXIvd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovL3BkZi10by1wcmludGVyL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3BkZi10by1wcmludGVyL3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL3BkZi10by1wcmludGVyL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9wZGYtdG8tcHJpbnRlci93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL3BkZi10by1wcmludGVyL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vcGRmLXRvLXByaW50ZXIvZXh0ZXJuYWwgbm9kZS1jb21tb25qcyBcInBhdGhcIiIsIndlYnBhY2s6Ly9wZGYtdG8tcHJpbnRlci9leHRlcm5hbCBub2RlLWNvbW1vbmpzIFwiZnNcIiIsIndlYnBhY2s6Ly9wZGYtdG8tcHJpbnRlci9leHRlcm5hbCBub2RlLWNvbW1vbmpzIFwiY2hpbGRfcHJvY2Vzc1wiIiwid2VicGFjazovL3BkZi10by1wcmludGVyL2V4dGVybmFsIG5vZGUtY29tbW9uanMgXCJ1dGlsXCIiLCJ3ZWJwYWNrOi8vcGRmLXRvLXByaW50ZXIvLi9zcmMvdXRpbHMvZXhlYy1maWxlLWFzeW5jLnRzIiwid2VicGFjazovL3BkZi10by1wcmludGVyLy4vc3JjL3V0aWxzL2VsZWN0cm9uLXV0aWwudHMiLCJ3ZWJwYWNrOi8vcGRmLXRvLXByaW50ZXIvZXh0ZXJuYWwgbm9kZS1jb21tb25qcyBcIm9zXCIiLCJ3ZWJwYWNrOi8vcGRmLXRvLXByaW50ZXIvLi9zcmMvdXRpbHMvdGhyb3ctaWYtdW5zdXBwb3J0ZWQtb3MudHMiLCJ3ZWJwYWNrOi8vcGRmLXRvLXByaW50ZXIvLi9zcmMvcHJpbnQvcHJpbnQudHMiLCJ3ZWJwYWNrOi8vcGRmLXRvLXByaW50ZXIvLi9zcmMvdXRpbHMvd2luZG93cy1wcmludGVyLXZhbGlkLnRzIiwid2VicGFjazovL3BkZi10by1wcmludGVyLy4vc3JjL2dldC1wcmludGVycy9nZXQtcHJpbnRlcnMudHMiLCJ3ZWJwYWNrOi8vcGRmLXRvLXByaW50ZXIvLi9zcmMvZ2V0LWRlZmF1bHQtcHJpbnRlci9nZXQtZGVmYXVsdC1wcmludGVyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtdLCBmYWN0b3J5KTtcblx0ZWxzZSB7XG5cdFx0dmFyIGEgPSBmYWN0b3J5KCk7XG5cdFx0Zm9yKHZhciBpIGluIGEpICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgPyBleHBvcnRzIDogcm9vdClbaV0gPSBhW2ldO1xuXHR9XG59KShnbG9iYWwsICgpID0+IHtcbnJldHVybiAiLCIvLyBUaGUgcmVxdWlyZSBzY29wZVxudmFyIF9fd2VicGFja19yZXF1aXJlX18gPSB7fTtcblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gKG1vZHVsZVsnZGVmYXVsdCddKSA6XG5cdFx0KCkgPT4gKG1vZHVsZSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiY29uc3QgX19XRUJQQUNLX05BTUVTUEFDRV9PQkpFQ1RfXyA9IHJlcXVpcmUoXCJwYXRoXCIpOyIsImNvbnN0IF9fV0VCUEFDS19OQU1FU1BBQ0VfT0JKRUNUX18gPSByZXF1aXJlKFwiZnNcIik7IiwiY29uc3QgX19XRUJQQUNLX05BTUVTUEFDRV9PQkpFQ1RfXyA9IHJlcXVpcmUoXCJjaGlsZF9wcm9jZXNzXCIpOyIsImNvbnN0IF9fV0VCUEFDS19OQU1FU1BBQ0VfT0JKRUNUX18gPSByZXF1aXJlKFwidXRpbFwiKTsiLCJpbXBvcnQgeyBleGVjRmlsZSB9IGZyb20gXCJjaGlsZF9wcm9jZXNzXCI7XG5pbXBvcnQgdXRpbCBmcm9tIFwidXRpbFwiO1xuXG5jb25zdCBleGVjRmlsZUFzeW5jID0gdXRpbC5wcm9taXNpZnkoZXhlY0ZpbGUpO1xuXG5leHBvcnQgZGVmYXVsdCBleGVjRmlsZUFzeW5jO1xuIiwiLy8gVGFrZW4gZnJvbSBodHRwczovL2dpdGh1Yi5jb20vc2luZHJlc29yaHVzL2VsZWN0cm9uLXV0aWwvYmxvYi9tYXN0ZXIvbm9kZS5qc1xuXG5jb25zdCBpc0VsZWN0cm9uID0gXCJlbGVjdHJvblwiIGluIHByb2Nlc3MudmVyc2lvbnM7XG5cbmNvbnN0IGlzVXNpbmdBc2FyID1cbiAgaXNFbGVjdHJvbiAmJlxuICBwcm9jZXNzLm1haW5Nb2R1bGUgJiZcbiAgcHJvY2Vzcy5tYWluTW9kdWxlLmZpbGVuYW1lLmluY2x1ZGVzKFwiYXBwLmFzYXJcIik7XG5cbmZ1bmN0aW9uIGZpeFBhdGhGb3JBc2FyVW5wYWNrKHBhdGg6IHN0cmluZyk6IHN0cmluZyB7XG4gIHJldHVybiBpc1VzaW5nQXNhciA/IHBhdGgucmVwbGFjZShcImFwcC5hc2FyXCIsIFwiYXBwLmFzYXIudW5wYWNrZWRcIikgOiBwYXRoO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmaXhQYXRoRm9yQXNhclVucGFjaztcbiIsImNvbnN0IF9fV0VCUEFDS19OQU1FU1BBQ0VfT0JKRUNUX18gPSByZXF1aXJlKFwib3NcIik7IiwiaW1wb3J0IG9zIGZyb20gXCJvc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB0aHJvd0lmVW5zdXBwb3J0ZWRPcygpIHtcbiAgaWYgKG9zLnBsYXRmb3JtKCkgIT09IFwid2luMzJcIikge1xuICAgIHRocm93IFwiT3BlcmF0aW5nIFN5c3RlbSBub3Qgc3VwcG9ydGVkXCI7XG4gIH1cbn1cbiIsImltcG9ydCBwYXRoIGZyb20gXCJwYXRoXCI7XG5pbXBvcnQgZnMgZnJvbSBcImZzXCI7XG5pbXBvcnQgZXhlY0FzeW5jIGZyb20gXCIuLi91dGlscy9leGVjLWZpbGUtYXN5bmNcIjtcbmltcG9ydCBmaXhQYXRoRm9yQXNhclVucGFjayBmcm9tIFwiLi4vdXRpbHMvZWxlY3Ryb24tdXRpbFwiO1xuaW1wb3J0IHRocm93SWZVbnN1cHBvcnRlZE9wZXJhdGluZ1N5c3RlbSBmcm9tIFwiLi4vdXRpbHMvdGhyb3ctaWYtdW5zdXBwb3J0ZWQtb3NcIjtcblxuLyoqXG4gKiBDb25maWd1cmF0aW9uIG9wdGlvbnMgZm9yIHByaW50aW5nIFBERnNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBQcmludE9wdGlvbnMge1xuICAvKiogTmFtZSBvZiB0aGUgcHJpbnRlciB0byB1c2UuIElmIG5vdCBzcGVjaWZpZWQsIHVzZXMgdGhlIGRlZmF1bHQgcHJpbnRlciAqL1xuICBwcmludGVyPzogc3RyaW5nO1xuICAvKiogUGFnZXMgdG8gcHJpbnQgKGUuZy4sIFwiMS0zLDVcIiBvciBcIjEsMyw1XCIpICovXG4gIHBhZ2VzPzogc3RyaW5nO1xuICAvKiogUHJpbnQgb25seSBvZGQgb3IgZXZlbiBwYWdlcyAqL1xuICBzdWJzZXQ/OiBcIm9kZFwiIHwgXCJldmVuXCI7XG4gIC8qKiBQYWdlIG9yaWVudGF0aW9uICovXG4gIG9yaWVudGF0aW9uPzogXCJwb3J0cmFpdFwiIHwgXCJsYW5kc2NhcGVcIjtcbiAgLyoqIEhvdyB0byBzY2FsZSB0aGUgY29udGVudCAqL1xuICBzY2FsZT86IFwibm9zY2FsZVwiIHwgXCJzaHJpbmtcIiB8IFwiZml0XCI7XG4gIC8qKiBQcmludCBpbiBibGFjayBhbmQgd2hpdGUgKi9cbiAgbW9ub2Nocm9tZT86IGJvb2xlYW47XG4gIC8qKiBEdXBsZXggcHJpbnRpbmcgb3B0aW9ucyAqL1xuICBzaWRlPzogXCJkdXBsZXhcIiB8IFwiZHVwbGV4c2hvcnRcIiB8IFwiZHVwbGV4bG9uZ1wiIHwgXCJzaW1wbGV4XCI7XG4gIC8qKiBQYXBlciB0cmF5L2JpbiB0byB1c2UgKG51bWJlciBvciBuYW1lKSAqL1xuICBiaW4/OiBzdHJpbmc7XG4gIC8qKiBQYXBlciBzaXplIChlLmcuLCBcIkE0XCIsIFwibGV0dGVyXCIsIFwibGVnYWxcIikgKi9cbiAgcGFwZXJTaXplPzogc3RyaW5nO1xuICAvKiogU3VwcHJlc3MgZXJyb3IgbWVzc2FnZXMgKi9cbiAgc2lsZW50PzogYm9vbGVhbjtcbiAgLyoqIFNob3cgcHJpbnQgZGlhbG9nIGluc3RlYWQgb2YgcHJpbnRpbmcgZGlyZWN0bHkgKi9cbiAgcHJpbnREaWFsb2c/OiBib29sZWFuO1xuICAvKiogQ3VzdG9tIHBhdGggdG8gU3VtYXRyYVBERiBleGVjdXRhYmxlICovXG4gIHN1bWF0cmFQZGZQYXRoPzogc3RyaW5nO1xuICAvKiogTnVtYmVyIG9mIGNvcGllcyB0byBwcmludCAqL1xuICBjb3BpZXM/OiBudW1iZXI7XG59XG5cbmNvbnN0IHZhbGlkU3Vic2V0cyA9IFtcIm9kZFwiLCBcImV2ZW5cIl07XG5jb25zdCB2YWxpZE9yaWVudGF0aW9ucyA9IFtcInBvcnRyYWl0XCIsIFwibGFuZHNjYXBlXCJdO1xuY29uc3QgdmFsaWRTY2FsZXMgPSBbXCJub3NjYWxlXCIsIFwic2hyaW5rXCIsIFwiZml0XCJdO1xuY29uc3QgdmFsaWRTaWRlcyA9IFtcImR1cGxleFwiLCBcImR1cGxleHNob3J0XCIsIFwiZHVwbGV4bG9uZ1wiLCBcInNpbXBsZXhcIl07XG5cbi8qKlxuICogUHJpbnRzIGEgUERGIGZpbGUgdG8gYSBwcmludGVyXG4gKlxuICogQHBhcmFtIHBkZiAtIFBhdGggdG8gdGhlIFBERiBmaWxlIHRvIHByaW50XG4gKiBAcGFyYW0gb3B0aW9ucyAtIFByaW50aW5nIGNvbmZpZ3VyYXRpb24gb3B0aW9uc1xuICogQHJldHVybnMgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gcHJpbnRpbmcgaXMgY29tcGxldGVcbiAqIEB0aHJvd3Mge0Vycm9yfSBJZiB0aGUgUERGIGZpbGUgZG9lc24ndCBleGlzdCBvciBwcmludGluZyBmYWlsc1xuICpcbiAqIEBleGFtcGxlXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiAvLyBQcmludCB0byBkZWZhdWx0IHByaW50ZXJcbiAqIGF3YWl0IHByaW50KFwiZG9jdW1lbnQucGRmXCIpO1xuICpcbiAqIC8vIFByaW50IHRvIHNwZWNpZmljIHByaW50ZXIgd2l0aCBvcHRpb25zXG4gKiBhd2FpdCBwcmludChcImRvY3VtZW50LnBkZlwiLCB7XG4gKiAgIHByaW50ZXI6IFwiSFAgTGFzZXJKZXRcIixcbiAqICAgcGFnZXM6IFwiMS0zXCIsXG4gKiAgIGNvcGllczogMixcbiAqICAgcGFwZXJTaXplOiBcIkE0XCJcbiAqIH0pO1xuICogYGBgXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIHByaW50KFxuICBwZGY6IHN0cmluZyxcbiAgb3B0aW9uczogUHJpbnRPcHRpb25zID0ge30sXG4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgdGhyb3dJZlVuc3VwcG9ydGVkT3BlcmF0aW5nU3lzdGVtKCk7XG4gIGlmICghcGRmKSB0aHJvdyBcIk5vIFBERiBzcGVjaWZpZWRcIjtcbiAgaWYgKCFmcy5leGlzdHNTeW5jKHBkZikpIHRocm93IFwiTm8gc3VjaCBmaWxlXCI7XG5cbiAgbGV0IHN1bWF0cmFQZGYgPVxuICAgIG9wdGlvbnMuc3VtYXRyYVBkZlBhdGggfHwgcGF0aC5qb2luKF9fZGlybmFtZSwgXCJTdW1hdHJhUERGLTMuNC42LTMyLmV4ZVwiKTtcbiAgaWYgKCFvcHRpb25zLnN1bWF0cmFQZGZQYXRoKSBzdW1hdHJhUGRmID0gZml4UGF0aEZvckFzYXJVbnBhY2soc3VtYXRyYVBkZik7XG5cbiAgY29uc3QgYXJnczogc3RyaW5nW10gPSBbXTtcblxuICBjb25zdCB7IHByaW50ZXIsIHNpbGVudCwgcHJpbnREaWFsb2cgfSA9IG9wdGlvbnM7XG5cbiAgaWYgKHByaW50RGlhbG9nKSB7XG4gICAgYXJncy5wdXNoKFwiLXByaW50LWRpYWxvZ1wiKTtcbiAgfSBlbHNlIHtcbiAgICBpZiAocHJpbnRlcikge1xuICAgICAgYXJncy5wdXNoKFwiLXByaW50LXRvXCIsIHByaW50ZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhcmdzLnB1c2goXCItcHJpbnQtdG8tZGVmYXVsdFwiKTtcbiAgICB9XG4gICAgaWYgKHNpbGVudCAhPT0gZmFsc2UpIHtcbiAgICAgIGFyZ3MucHVzaChcIi1zaWxlbnRcIik7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgcHJpbnRTZXR0aW5ncyA9IGdldFByaW50U2V0dGluZ3Mob3B0aW9ucyk7XG5cbiAgaWYgKHByaW50U2V0dGluZ3MubGVuZ3RoKSB7XG4gICAgYXJncy5wdXNoKFwiLXByaW50LXNldHRpbmdzXCIsIHByaW50U2V0dGluZ3Muam9pbihcIixcIikpO1xuICB9XG5cbiAgYXJncy5wdXNoKHBkZik7XG5cbiAgdHJ5IHtcbiAgICBhd2FpdCBleGVjQXN5bmMoc3VtYXRyYVBkZiwgYXJncyk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0UHJpbnRTZXR0aW5ncyhvcHRpb25zOiBQcmludE9wdGlvbnMpOiBzdHJpbmdbXSB7XG4gIGNvbnN0IHtcbiAgICBwYWdlcyxcbiAgICBzdWJzZXQsXG4gICAgb3JpZW50YXRpb24sXG4gICAgc2NhbGUsXG4gICAgbW9ub2Nocm9tZSxcbiAgICBzaWRlLFxuICAgIGJpbixcbiAgICBwYXBlclNpemUsXG4gICAgY29waWVzLFxuICB9ID0gb3B0aW9ucztcblxuICBjb25zdCBwcmludFNldHRpbmdzID0gW107XG5cbiAgaWYgKHBhZ2VzKSB7XG4gICAgcHJpbnRTZXR0aW5ncy5wdXNoKHBhZ2VzKTtcbiAgfVxuXG4gIGlmIChzdWJzZXQpIHtcbiAgICBpZiAodmFsaWRTdWJzZXRzLmluY2x1ZGVzKHN1YnNldCkpIHtcbiAgICAgIHByaW50U2V0dGluZ3MucHVzaChzdWJzZXQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBgSW52YWxpZCBzdWJzZXQgcHJvdmlkZWQuIFZhbGlkIG5hbWVzOiAke3ZhbGlkU3Vic2V0cy5qb2luKFwiLCBcIil9YDtcbiAgICB9XG4gIH1cblxuICBpZiAob3JpZW50YXRpb24pIHtcbiAgICBpZiAodmFsaWRPcmllbnRhdGlvbnMuaW5jbHVkZXMob3JpZW50YXRpb24pKSB7XG4gICAgICBwcmludFNldHRpbmdzLnB1c2gob3JpZW50YXRpb24pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBgSW52YWxpZCBvcmllbnRhdGlvbiBwcm92aWRlZC4gVmFsaWQgbmFtZXM6ICR7dmFsaWRPcmllbnRhdGlvbnMuam9pbihcbiAgICAgICAgXCIsIFwiLFxuICAgICAgKX1gO1xuICAgIH1cbiAgfVxuXG4gIGlmIChzY2FsZSkge1xuICAgIGlmICh2YWxpZFNjYWxlcy5pbmNsdWRlcyhzY2FsZSkpIHtcbiAgICAgIHByaW50U2V0dGluZ3MucHVzaChzY2FsZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IGBJbnZhbGlkIHNjYWxlIHByb3ZpZGVkLiBWYWxpZCBuYW1lczogJHt2YWxpZFNjYWxlcy5qb2luKFwiLCBcIil9YDtcbiAgICB9XG4gIH1cblxuICBpZiAobW9ub2Nocm9tZSkge1xuICAgIHByaW50U2V0dGluZ3MucHVzaChcIm1vbm9jaHJvbWVcIik7XG4gIH0gZWxzZSBpZiAobW9ub2Nocm9tZSA9PT0gZmFsc2UpIHtcbiAgICBwcmludFNldHRpbmdzLnB1c2goXCJjb2xvclwiKTtcbiAgfVxuXG4gIGlmIChzaWRlKSB7XG4gICAgaWYgKHZhbGlkU2lkZXMuaW5jbHVkZXMoc2lkZSkpIHtcbiAgICAgIHByaW50U2V0dGluZ3MucHVzaChzaWRlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgYEludmFsaWQgc2lkZSBwcm92aWRlZC4gVmFsaWQgbmFtZXM6ICR7dmFsaWRTaWRlcy5qb2luKFwiLCBcIil9YDtcbiAgICB9XG4gIH1cblxuICBpZiAoYmluKSB7XG4gICAgcHJpbnRTZXR0aW5ncy5wdXNoKGBiaW49JHtiaW59YCk7XG4gIH1cblxuICBpZiAocGFwZXJTaXplKSB7XG4gICAgcHJpbnRTZXR0aW5ncy5wdXNoKGBwYXBlcj0ke3BhcGVyU2l6ZX1gKTtcbiAgfVxuXG4gIGlmIChjb3BpZXMpIHtcbiAgICBwcmludFNldHRpbmdzLnB1c2goYCR7Y29waWVzfXhgKTtcbiAgfVxuXG4gIHJldHVybiBwcmludFNldHRpbmdzO1xufVxuIiwiaW1wb3J0IHsgUHJpbnRlciB9IGZyb20gXCIuLi9pbmRleFwiO1xuXG4vLyBtYXAgd2luZG93cy1wcmludGVyIGtleSB0byBmaW5hbCBwcmludGVyRGF0YSBrZXlcbmNvbnN0IHByb3BlcnRpZXM6IHsgW2tleTogc3RyaW5nXToga2V5b2YgUHJpbnRlciB9ID0ge1xuICBEZXZpY2VJRDogXCJkZXZpY2VJZFwiLFxuICBOYW1lOiBcIm5hbWVcIixcbiAgUHJpbnRlclBhcGVyTmFtZXM6IFwicGFwZXJTaXplc1wiLFxufTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNWYWxpZFByaW50ZXIocHJpbnRlcjogc3RyaW5nKToge1xuICBpc1ZhbGlkOiBib29sZWFuO1xuICBwcmludGVyRGF0YTogUHJpbnRlcjtcbn0ge1xuICBjb25zdCBwcmludGVyRGF0YTogUHJpbnRlciA9IHtcbiAgICBkZXZpY2VJZDogXCJcIixcbiAgICBuYW1lOiBcIlwiLFxuICAgIHBhcGVyU2l6ZXM6IFtdLFxuICB9O1xuXG4gIHByaW50ZXIuc3BsaXQoL1xccj9cXG4vKS5mb3JFYWNoKChsaW5lKSA9PiB7XG4gICAgbGV0IFtsYWJlbCwgdmFsdWVdID0gbGluZS5zcGxpdChcIjpcIikubWFwKChlbCkgPT4gZWwudHJpbSgpKTtcblxuICAgIC8vIGhhbmRsZSBhcnJheSBkb3RzXG4gICAgaWYgKHZhbHVlLm1hdGNoKC9eeyguKikoXFwuezN9KX0kLykpIHtcbiAgICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZShcIi4uLn1cIiwgXCJ9XCIpO1xuICAgIH1cblxuICAgIC8vIGhhbmRsZSBhcnJheSByZXR1cm5zXG4gICAgY29uc3QgbWF0Y2hlcyA9IHZhbHVlLm1hdGNoKC9eeyguKil9JC8pO1xuXG4gICAgaWYgKG1hdGNoZXMgJiYgbWF0Y2hlc1sxXSkge1xuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgdmFsdWUgPSBtYXRjaGVzWzFdLnNwbGl0KFwiLCBcIik7XG4gICAgfVxuXG4gICAgY29uc3Qga2V5ID0gcHJvcGVydGllc1tsYWJlbF07XG5cbiAgICBpZiAoa2V5ID09PSB1bmRlZmluZWQpIHJldHVybjtcblxuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBwcmludGVyRGF0YVtrZXldID0gdmFsdWU7XG4gIH0pO1xuXG4gIGNvbnN0IGlzVmFsaWQgPSAhIShwcmludGVyRGF0YS5kZXZpY2VJZCAmJiBwcmludGVyRGF0YS5uYW1lKTtcblxuICByZXR1cm4ge1xuICAgIGlzVmFsaWQsXG4gICAgcHJpbnRlckRhdGEsXG4gIH07XG59XG4iLCJpbXBvcnQgZXhlY0ZpbGVBc3luYyBmcm9tIFwiLi4vdXRpbHMvZXhlYy1maWxlLWFzeW5jXCI7XG5pbXBvcnQgaXNWYWxpZFByaW50ZXIgZnJvbSBcIi4uL3V0aWxzL3dpbmRvd3MtcHJpbnRlci12YWxpZFwiO1xuaW1wb3J0IHRocm93SWZVbnN1cHBvcnRlZE9wZXJhdGluZ1N5c3RlbSBmcm9tIFwiLi4vdXRpbHMvdGhyb3ctaWYtdW5zdXBwb3J0ZWQtb3NcIjtcbmltcG9ydCB7IFByaW50ZXIgfSBmcm9tIFwiLi5cIjtcblxuLyoqXG4gKiBHZXRzIGEgbGlzdCBvZiBhbGwgYXZhaWxhYmxlIHByaW50ZXJzIG9uIHRoZSBzeXN0ZW1cbiAqXG4gKiBAcmV0dXJucyBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gYW4gYXJyYXkgb2YgcHJpbnRlciBvYmplY3RzXG4gKiBAdGhyb3dzIHtFcnJvcn0gSWYgdGhlIG9wZXJhdGluZyBzeXN0ZW0gaXMgbm90IHN1cHBvcnRlZCBvciBpZiB0aGUgY29tbWFuZCBmYWlsc1xuICpcbiAqIEBleGFtcGxlXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBjb25zdCBwcmludGVycyA9IGF3YWl0IGdldFByaW50ZXJzKCk7XG4gKiBjb25zb2xlLmxvZyhwcmludGVycyk7XG4gKiAvLyBbXG4gKiAvLyAgIHsgZGV2aWNlSWQ6IFwiSFBfTGFzZXJKZXRcIiwgbmFtZTogXCJIUCBMYXNlckpldCBQcm9cIiwgcGFwZXJTaXplczogW1wiQTRcIiwgXCJMZXR0ZXJcIl0gfSxcbiAqIC8vICAgeyBkZXZpY2VJZDogXCJDYW5vbl9QaXhtYVwiLCBuYW1lOiBcIkNhbm9uIFBJWE1BXCIsIHBhcGVyU2l6ZXM6IFtcIkE0XCIsIFwiQTNcIl0gfVxuICogLy8gXVxuICogYGBgXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGdldFByaW50ZXJzKCk6IFByb21pc2U8UHJpbnRlcltdPiB7XG4gIGZ1bmN0aW9uIHN0ZG91dEhhbmRsZXIoc3Rkb3V0OiBzdHJpbmcpIHtcbiAgICBjb25zdCBwcmludGVyczogUHJpbnRlcltdID0gW107XG5cbiAgICBzdGRvdXRcbiAgICAgIC5zcGxpdCgvKFxccj9cXG4pezIsfS8pXG4gICAgICAubWFwKChwcmludGVyKSA9PiBwcmludGVyLnRyaW0oKSlcbiAgICAgIC5maWx0ZXIoKHByaW50ZXIpID0+ICEhcHJpbnRlcilcbiAgICAgIC5mb3JFYWNoKChwcmludGVyKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgaXNWYWxpZCwgcHJpbnRlckRhdGEgfSA9IGlzVmFsaWRQcmludGVyKHByaW50ZXIpO1xuXG4gICAgICAgIGlmICghaXNWYWxpZCkgcmV0dXJuO1xuXG4gICAgICAgIHByaW50ZXJzLnB1c2gocHJpbnRlckRhdGEpO1xuICAgICAgfSk7XG5cbiAgICByZXR1cm4gcHJpbnRlcnM7XG4gIH1cblxuICB0cnkge1xuICAgIHRocm93SWZVbnN1cHBvcnRlZE9wZXJhdGluZ1N5c3RlbSgpO1xuICAgIGNvbnN0IHsgc3Rkb3V0IH0gPSBhd2FpdCBleGVjRmlsZUFzeW5jKFwiUG93ZXJzaGVsbC5leGVcIiwgW1xuICAgICAgXCItQ29tbWFuZFwiLFxuICAgICAgYEdldC1DaW1JbnN0YW5jZSBXaW4zMl9QcmludGVyIC1Qcm9wZXJ0eSBEZXZpY2VJRCxOYW1lLFByaW50ZXJQYXBlck5hbWVzYCxcbiAgICBdKTtcbiAgICByZXR1cm4gc3Rkb3V0SGFuZGxlcihzdGRvdXQpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHRocm93IGVycm9yO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGdldFByaW50ZXJzO1xuIiwiaW1wb3J0IGV4ZWNGaWxlQXN5bmMgZnJvbSBcIi4uL3V0aWxzL2V4ZWMtZmlsZS1hc3luY1wiO1xuaW1wb3J0IHRocm93SWZVbnN1cHBvcnRlZE9wZXJhdGluZ1N5c3RlbSBmcm9tIFwiLi4vdXRpbHMvdGhyb3ctaWYtdW5zdXBwb3J0ZWQtb3NcIjtcbmltcG9ydCBpc1ZhbGlkUHJpbnRlciBmcm9tIFwiLi4vdXRpbHMvd2luZG93cy1wcmludGVyLXZhbGlkXCI7XG5pbXBvcnQgeyBQcmludGVyIH0gZnJvbSBcIi4uXCI7XG5cbi8qKlxuICogR2V0cyB0aGUgZGVmYXVsdCBwcmludGVyIGluZm9ybWF0aW9uXG4gKlxuICogQHJldHVybnMgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIHRoZSBkZWZhdWx0IHByaW50ZXIgb2JqZWN0LCBvciBudWxsIGlmIG5vIGRlZmF1bHQgcHJpbnRlciBpcyBzZXRcbiAqIEB0aHJvd3Mge0Vycm9yfSBJZiB0aGUgb3BlcmF0aW5nIHN5c3RlbSBpcyBub3Qgc3VwcG9ydGVkIG9yIGlmIHRoZSBjb21tYW5kIGZhaWxzXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGNvbnN0IGRlZmF1bHRQcmludGVyID0gYXdhaXQgZ2V0RGVmYXVsdFByaW50ZXIoKTtcbiAqIGlmIChkZWZhdWx0UHJpbnRlcikge1xuICogICBjb25zb2xlLmxvZyhgRGVmYXVsdCBwcmludGVyOiAke2RlZmF1bHRQcmludGVyLm5hbWV9YCk7XG4gKiAgIGNvbnNvbGUubG9nKGBEZXZpY2UgSUQ6ICR7ZGVmYXVsdFByaW50ZXIuZGV2aWNlSWR9YCk7XG4gKiAgIGNvbnNvbGUubG9nKGBQYXBlciBzaXplczogJHtkZWZhdWx0UHJpbnRlci5wYXBlclNpemVzLmpvaW4oXCIsIFwiKX1gKTtcbiAqIH0gZWxzZSB7XG4gKiAgIGNvbnNvbGUubG9nKFwiTm8gZGVmYXVsdCBwcmludGVyIHNldFwiKTtcbiAqIH1cbiAqIGBgYFxuICovXG5hc3luYyBmdW5jdGlvbiBnZXREZWZhdWx0UHJpbnRlcigpOiBQcm9taXNlPFByaW50ZXIgfCBudWxsPiB7XG4gIHRyeSB7XG4gICAgdGhyb3dJZlVuc3VwcG9ydGVkT3BlcmF0aW5nU3lzdGVtKCk7XG5cbiAgICBjb25zdCB7IHN0ZG91dCB9ID0gYXdhaXQgZXhlY0ZpbGVBc3luYyhcIlBvd2Vyc2hlbGwuZXhlXCIsIFtcbiAgICAgIFwiLUNvbW1hbmRcIixcbiAgICAgIGBHZXQtQ2ltSW5zdGFuY2UgV2luMzJfUHJpbnRlciAtUHJvcGVydHkgRGV2aWNlSUQsTmFtZSxQcmludGVyUGFwZXJOYW1lcyAtRmlsdGVyIERlZmF1bHQ9dHJ1ZWAsXG4gICAgXSk7XG5cbiAgICBjb25zdCBwcmludGVyID0gc3Rkb3V0LnRyaW0oKTtcblxuICAgIC8vIElmIHN0ZG91dCBpcyBlbXB0eSwgdGhlcmUgaXMgbm8gZGVmYXVsdCBwcmludGVyXG4gICAgaWYgKCFzdGRvdXQpIHJldHVybiBudWxsO1xuXG4gICAgY29uc3QgeyBpc1ZhbGlkLCBwcmludGVyRGF0YSB9ID0gaXNWYWxpZFByaW50ZXIocHJpbnRlcik7XG5cbiAgICAvLyBEZXZpY2VJRCBvciBOYW1lIG5vdCBmb3VuZFxuICAgIGlmICghaXNWYWxpZCkgcmV0dXJuIG51bGw7XG5cbiAgICByZXR1cm4gcHJpbnRlckRhdGE7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgZ2V0RGVmYXVsdFByaW50ZXI7XG4iXSwibmFtZXMiOlsicm9vdCIsImZhY3RvcnkiLCJleHBvcnRzIiwibW9kdWxlIiwiZGVmaW5lIiwiYW1kIiwiYSIsImkiLCJnbG9iYWwiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiZ2V0dGVyIiwiX19lc01vZHVsZSIsImQiLCJkZWZpbml0aW9uIiwia2V5IiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwicmVxdWlyZSIsImV4ZWNGaWxlIiwiaXNVc2luZ0FzYXIiLCJwcm9jZXNzIiwidmVyc2lvbnMiLCJtYWluTW9kdWxlIiwiZmlsZW5hbWUiLCJpbmNsdWRlcyIsInBhdGgiLCJyZXBsYWNlIiwidGhyb3dJZlVuc3VwcG9ydGVkT3MiLCJ2YWxpZFN1YnNldHMiLCJ2YWxpZE9yaWVudGF0aW9ucyIsInZhbGlkU2NhbGVzIiwidmFsaWRTaWRlcyIsInByaW50IiwicGRmIiwib3B0aW9ucyIsInN1bWF0cmFQZGYiLCJzdW1hdHJhUGRmUGF0aCIsIl9fZGlybmFtZSIsImFyZ3MiLCJwcmludGVyIiwic2lsZW50IiwicHJpbnREaWFsb2ciLCJwdXNoIiwicHJpbnRTZXR0aW5ncyIsInBhZ2VzIiwic3Vic2V0Iiwib3JpZW50YXRpb24iLCJzY2FsZSIsIm1vbm9jaHJvbWUiLCJzaWRlIiwiYmluIiwicGFwZXJTaXplIiwiY29waWVzIiwiam9pbiIsImdldFByaW50U2V0dGluZ3MiLCJsZW5ndGgiLCJlcnJvciIsInByb3BlcnRpZXMiLCJEZXZpY2VJRCIsIk5hbWUiLCJQcmludGVyUGFwZXJOYW1lcyIsImlzVmFsaWRQcmludGVyIiwicHJpbnRlckRhdGEiLCJkZXZpY2VJZCIsIm5hbWUiLCJwYXBlclNpemVzIiwic3BsaXQiLCJmb3JFYWNoIiwibGluZSIsImxhYmVsIiwibWFwIiwiZWwiLCJ0cmltIiwibWF0Y2giLCJtYXRjaGVzIiwidW5kZWZpbmVkIiwiaXNWYWxpZCIsInN0ZG91dCIsInByaW50ZXJzIiwiZmlsdGVyIiwic3Rkb3V0SGFuZGxlciJdLCJzb3VyY2VSb290IjoiIn0=